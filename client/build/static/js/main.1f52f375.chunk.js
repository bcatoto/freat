(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r),i=(a(74),a(16)),s=a(17),c=a(19),u=a(18),m=a(20),p=a(29),d=a(30),h=a(22),E=a(11),g=a(46);function f(e){return l.a.createElement(g.a,{className:"p-2 bg-primary",variant:"dark",expand:"lg"},l.a.createElement(g.a.Brand,{className:"ml-2"},"Freat"),l.a.createElement(E.a,{className:"mr-auto",variant:"navbar",onClick:e.handleNewPost},"New post"),l.a.createElement(E.a,{href:"#profile",variant:"navbar"},"Account"))}var v=a(5);function b(){return l.a.createElement(v.a,{inline:!0,className:"p-3"},l.a.createElement(v.a.Control,{className:"form-search flex-grow-1",type:"text",placeholder:"Search for food..."}),l.a.createElement(E.a,{variant:"search"},l.a.createElement("i",{className:"fas fa-search"})))}var y=a(32),k=a(25),C=a(66),O=a(65),w=a.n(O),j=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderDietOptions",value:function(){var e=[{key:0,name:"Vegetarian",color:"vegetarian"},{key:1,name:"Vegan",color:"vegan"},{key:2,name:"Kosher",color:"kosher"},{key:3,name:"Halal",color:"halal"},{key:4,name:"Gluten-Free",color:"gluten"}];return this.props.post.diet.map((function(t){return e[t]})).map((function(e){return l.a.createElement(C.a,{pill:!0,key:e.key,variant:e.color},e.name)}))}},{key:"render",value:function(){return l.a.createElement(y.a.Toggle,{as:k.a,eventKey:this.props.post.id},l.a.createElement(k.a.Header,null,l.a.createElement(p.a,{fluid:!0,className:"p-0"},l.a.createElement(d.a,{noGutters:"true"},l.a.createElement(k.a.Title,{className:"mr-auto"},this.props.post.title),l.a.createElement("span",{className:"post-time"},"15 minutes ago")),l.a.createElement(d.a,{noGutters:"true",className:"mt-1"},l.a.createElement(E.a,{variant:"location"},l.a.createElement("i",{className:"fas fa-map-marker-alt mr-1"}),this.props.post.room," ",this.props.post.building)))),l.a.createElement(k.a.Img,{src:w.a}),l.a.createElement(y.a.Collapse,{eventKey:this.props.post.id},l.a.createElement(k.a.Body,null,this.props.post.description,l.a.createElement("br",null),l.a.createElement("em",null,"Feeds approximately: ",this.props.post.feeds))),l.a.createElement(k.a.Footer,null,this.renderDietOptions()))}}]),t}(l.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderPosts",value:function(){return this.props.posts.map((function(e){return l.a.createElement(j,{key:e.id,post:e})}))}},{key:"render",value:function(){return l.a.createElement(y.a,null,this.renderPosts())}}]),t}(l.a.Component);function G(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement(N,{id:"posts-feed",posts:e.posts}))}var S=a(27),x=a(37),D=a.n(x),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value,l=a.state.post;l[t]=n,a.setState({post:l})},a.handleDietChange=function(e){var t=e.target.name,n=a.state.post;n.diet[t]=!n.diet[t],a.setState({post:n})},a.handleSubmit=function(e){e.preventDefault();for(var t=[],n=0;n<a.state.diets.length;n++)a.state.post.diet[a.state.diets[n].name]&&t.push(n);var l={title:a.state.title,room:a.state.room,building:a.state.building,description:a.state.description,diet:t,feeds:a.state.feeds};D.a.post("https://my-json-server.typicode.com/bcatoto/freat/posts",{post:l}).then((function(e){console.log(e),console.log(e.data)})),a.close()},a.state={post:{title:"",room:"",building:null,image:null,description:"",diet:{vegetarian:!1,vegan:!1,kosher:!1,halal:!1,gluten:!1},feeds:""},valid:{title:!1,room:!1,building:!1,feeds:!1},buildings:["-- Select building --","Bloomberg Hall","Dod Hall","Colonial","Friend Center"],diets:[{id:0,name:"vegetarian",label:"Vegetarian"},{id:1,name:"vegan",label:"Vegan"},{id:2,name:"kosher",label:"Kosher"},{id:3,name:"halal",label:"Halal"},{id:4,name:"gluten",label:"Gluten-Free"}]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"validate",value:function(e,t){var a=this.state.valid;switch(e){case"title":a.title=t.length>0;break;case"room":a.room=t.length>0}}},{key:"close",value:function(){this.setState({post:{title:"",room:"",building:null,image:null,description:"",diet:{vegetarian:!1,vegan:!1,kosher:!1,halal:!1,gluten:!1},feeds:""}}),this.props.handleClose()}},{key:"renderBuildings",value:function(){return this.state.buildings.sort().map((function(e,t){return l.a.createElement("option",{key:t},e)}))}},{key:"renderDietOptions",value:function(){var e=this;return this.state.diets.map((function(t){return l.a.createElement(v.a.Check,{key:t.id,type:"checkbox",name:t.name,label:t.label,onChange:e.handleDietChange})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(S.a,{show:this.props.show},l.a.createElement(S.a.Header,null,l.a.createElement(S.a.Title,null,"New post")),l.a.createElement(v.a,{onSubmit:this.handleSubmit},l.a.createElement(S.a.Body,null,l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Title"),l.a.createElement(v.a.Control,{type:"text",name:"title",placeholder:"Enter title",onChange:this.handleChange})),l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:h.a},l.a.createElement(v.a.Label,null,"Room"),l.a.createElement(v.a.Control,{type:"text",name:"room",placeholder:"Enter room",onChange:this.handleChange})),l.a.createElement(v.a.Group,{as:h.a,controlId:"input-building"},l.a.createElement(v.a.Label,null,"Building"),l.a.createElement(v.a.Control,{as:"select",name:"building",onChange:this.handleChange},this.renderBuildings()))),l.a.createElement(v.a.Group,{controlId:"input-image"},l.a.createElement(v.a.Label,null,"Image"),l.a.createElement(v.a.Control,{type:"file"}),l.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Please upload an image.")),l.a.createElement(v.a.Group,{controlId:"input-desc"},l.a.createElement(v.a.Label,null,"Description"),l.a.createElement(v.a.Control,{as:"textarea",name:"description",rows:"3",onChange:this.handleChange})),l.a.createElement(v.a.Group,{controlId:"input-diet"},l.a.createElement(v.a.Label,null,"Dietary Options"),this.renderDietOptions()),l.a.createElement(v.a.Group,{controlId:"input-feeds"},l.a.createElement(v.a.Label,null,"Feeds approximately..."),l.a.createElement(v.a.Control,{type:"number",name:"feeds",placeholder:"1",onChange:this.handleChange}))),l.a.createElement(S.a.Footer,null,l.a.createElement(E.a,{type:"reset",variant:"danger",className:"mr-1",onClick:function(){return e.close()}},"Cancel"),l.a.createElement(E.a,{type:"submit",variant:"outline-primary"},"Submit"))))}}]),t}(l.a.Component),B=(a(129),a(130),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showModal:!1,posts:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.a.get("https://my-json-server.typicode.com/bcatoto/freat/posts").then((function(t){var a=t.data;e.setState({posts:a})}))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"app",className:"vw-100 vh-100"},l.a.createElement(f,{handleNewPost:function(){return e.handleOpenModal()}}),l.a.createElement(p.a,{fluid:!0,className:"h-100 p-0"},l.a.createElement(d.a,{fluid:"true",noGutters:"true",className:"h-100"},l.a.createElement(h.a,{id:"post-pane"},l.a.createElement(G,{posts:this.state.posts})),l.a.createElement(h.a,{id:"map"},l.a.createElement(p.a,{fluid:"true"})))),l.a.createElement(F,{show:this.state.showModal,handleClose:function(){return e.handleCloseModal()}}))}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t,a){e.exports=a.p+"static/media/berries.8d8e3e79.png"},69:function(e,t,a){e.exports=a(131)},74:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.1f52f375.chunk.js.map